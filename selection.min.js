const Selection=function(){const t={showTooltip:!0,bgColor:"cornflowerblue",iconColor:"#fff",hideArrow:!1,popoverShadow:"0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);",iconTransition:!0};function e(t,e,n,o){let c=screen.width/2-n/2,i=screen.height/2-o/2;return window.open(t,e,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+n+", height="+o+", top="+i+", left="+c)}const n={twitter:{url:"https://twitter.com/intent/tweet?text=",tooltip:"Tweet",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="selection__icon"><path d="M8.2,20.2c6.5,0,11.7-5.2,11.8-11.6c0-0.1,0-0.1,0-0.2c0-0.2,0-0.4,0-0.5c0.8-0.6,1.5-1.3,2.1-2.2c-0.8,0.3-1.6,0.6-2.4,0.7c0.9-0.5,1.5-1.3,1.8-2.3c-0.8,0.5-1.7,0.8-2.6,1c-1.6-1.7-4.2-1.7-5.9-0.1c-1.1,1-1.5,2.5-1.2,3.9C8.5,8.7,5.4,7.1,3.3,4.6c-1.1,1.9-0.6,4.3,1.3,5.5c-0.7,0-1.3-0.2-1.9-0.5l0,0c0,2,1.4,3.7,3.3,4.1c-0.6,0.2-1.2,0.2-1.9,0.1c0.5,1.7,2.1,2.8,3.9,2.9c-1.7,1.4-3.9,2-6.1,1.7C3.8,19.5,6,20.2,8.2,20.2"/></svg>',handlerFn:function(){const t=window.location.href;return e(this.twitter.url+encodeURIComponent(this.selectedText)+" "+t,"Share",550,295),!1}},facebook:{url:"https://www.facebook.com/sharer/sharer.php?quote=",tooltip:"Share",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" enable-background="new 0 0 24 24" width="24" height="24" class="selection__icon"><path d="M20,2H4C2.9,2,2,2.9,2,4v16c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V4C22,2.9,21.1,2,20,2z M18.4,7.4H17c-0.9,0-1,0.3-1,1l0,1.3 h2.1L18,12h-1.9v7h-3.2v-7h-1.2V9.6h1.2V8.1c0-2,0.8-3.1,3.1-3.1h2.4V7.4z"/></svg>',handlerFn:function(){let t=window.location.href,n=this.facebook.url;"http"!==t.substring(0,4)&&(t="http://www.demourl.com"),e(n+=this.selectedText+"&u="+t,"Share",600,500)}},search:{url:"https://www.google.co.in/search?q=",tooltip:"Search",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" enable-background="new 0 0 24 24" width="24" height="24" class="selection__icon"><path d="M23.111 20.058l-4.977-4.977c.965-1.52 1.523-3.322 1.523-5.251 0-5.42-4.409-9.83-9.829-9.83-5.42 0-9.828 4.41-9.828 9.83s4.408 9.83 9.829 9.83c1.834 0 3.552-.505 5.022-1.383l5.021 5.021c2.144 2.141 5.384-1.096 3.239-3.24zm-20.064-10.228c0-3.739 3.043-6.782 6.782-6.782s6.782 3.042 6.782 6.782-3.043 6.782-6.782 6.782-6.782-3.043-6.782-6.782zm2.01-1.764c1.984-4.599 8.664-4.066 9.922.749-2.534-2.974-6.993-3.294-9.922-.749z"/></svg>',handlerFn:function(){return e(this.search.url+encodeURIComponent(this.selectedText),"Search",900,540),!1}},copy:{tooltip:"Copy",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" enable-background="new 0 0 24 24" width="24" height="24" class="selection__icon"><path d="M18 6v-6h-18v18h6v6h18v-18h-6zm-12 10h-4v-14h14v4h-10v10zm16 6h-14v-14h14v14z"/></svg>',handlerFn:function(){!function(t){let e=document.createElement("textarea");e.style.position="fixed",e.style.top=0,e.style.left=0,e.style.width="2em",e.style.height="2em",e.style.padding=0,e.style.border="none",e.style.outline="none",e.style.boxShadow="none",e.style.background="transparent",e.value=t,document.body.appendChild(e),e.focus(),e.select();try{let t=document.execCommand("copy")?"successful":"unsuccessful";console.log("Copying text command was "+t)}catch(t){console.log("Oops, unable to copy")}document.body.removeChild(e)}(this.selectedText)}},speak:{tooltip:"Speak",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" enable-background="new 0 0 24 24" width="24" height="24" class="selection__icon"><path d="M16 11c0 2.209-1.791 4-4 4s-4-1.791-4-4v-7c0-2.209 1.791-4 4-4s4 1.791 4 4v7zm4-2v2c0 4.418-3.582 8-8 8s-8-3.582-8-8v-2h2v2c0 3.309 2.691 6 6 6s6-2.691 6-6v-2h2zm-7 13v-2h-2v2h-4v2h10v-2h-4z"/></svg>',handlerFn:function(){let t=new SpeechSynthesisUtterance(this.selectedText);window.speechSynthesis.speak(t)}},translate:{url:"https://translate.google.com/#auto/",tooltip:"Translate",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" enable-background="new 0 0 24 24" width="24" height="24" class="selection__icon"><path id="svg_3" d="m17,20l-14.5,0c-1.378,0 -2.5,-1.122 -2.5,-2.5l0,-15c0,-1.378 1.122,-2.5 2.5,-2.5l8,0c0.214,0 0.404,0.136 0.473,0.338l6.5,19c0.052,0.152 0.027,0.321 -0.066,0.452c-0.094,0.132 -0.245,0.21 -0.407,0.21zm-14.5,-19c-0.827,0 -1.5,0.673 -1.5,1.5l0,15c0,0.827 0.673,1.5 1.5,1.5l13.8,0l-6.157,-18l-7.643,0z"/><path id="svg_5" d="m21.5,24l-8,0c-0.208,0 -0.395,-0.129 -0.468,-0.324l-1.5,-4c-0.097,-0.259 0.034,-0.547 0.292,-0.644c0.259,-0.096 0.547,0.034 0.644,0.292l1.379,3.676l7.653,0c0.827,0 1.5,-0.673 1.5,-1.5l0,-15c0,-0.827 -0.673,-1.5 -1.5,-1.5l-9.5,0c-0.276,0 -0.5,-0.224 -0.5,-0.5s0.224,-0.5 0.5,-0.5l9.5,0c1.378,0 2.5,1.122 2.5,2.5l0,15c0,1.378 -1.122,2.5 -2.5,2.5z"/><path id="svg_7" d="m13.5,24c-0.117,0 -0.234,-0.041 -0.329,-0.124c-0.208,-0.182 -0.229,-0.498 -0.047,-0.706l3.5,-4c0.182,-0.209 0.498,-0.229 0.706,-0.047c0.208,0.182 0.229,0.498 0.047,0.706l-3.5,4c-0.1,0.113 -0.238,0.171 -0.377,0.171z"/><path id="svg_9" d="m9.5,14c-0.206,0 -0.398,-0.127 -0.471,-0.332l-2.029,-5.681l-2.029,5.681c-0.093,0.26 -0.38,0.396 -0.639,0.303c-0.26,-0.093 -0.396,-0.379 -0.303,-0.639l2.5,-7c0.142,-0.398 0.8,-0.398 0.941,0l2.5,7c0.093,0.26 -0.042,0.546 -0.303,0.639c-0.054,0.02 -0.111,0.029 -0.167,0.029z"/><path id="svg_11" d="m8,11l-2,0c-0.276,0 -0.5,-0.224 -0.5,-0.5s0.224,-0.5 0.5,-0.5l2,0c0.276,0 0.5,0.224 0.5,0.5s-0.224,0.5 -0.5,0.5z"/><path id="svg_13" d="m21.5,11l-7,0c-0.276,0 -0.5,-0.224 -0.5,-0.5s0.224,-0.5 0.5,-0.5l7,0c0.276,0 0.5,0.224 0.5,0.5s-0.224,0.5 -0.5,0.5z"/><path id="svg_15" d="m17.5,11c-0.276,0 -0.5,-0.224 -0.5,-0.5l0,-1c0,-0.276 0.224,-0.5 0.5,-0.5s0.5,0.224 0.5,0.5l0,1c0,0.276 -0.224,0.5 -0.5,0.5z"/><path id="svg_17" d="m16,17c-0.157,0 -0.311,-0.073 -0.408,-0.21c-0.16,-0.225 -0.107,-0.537 0.118,-0.697c2.189,-1.555 3.79,-4.727 3.79,-5.592c0,-0.276 0.224,-0.5 0.5,-0.5s0.5,0.224 0.5,0.5c0,1.318 -1.927,4.785 -4.21,6.408c-0.088,0.061 -0.189,0.091 -0.29,0.091z"/><path id="svg_19" d="m20,18c-0.121,0 -0.242,-0.043 -0.337,-0.131c-0.363,-0.332 -3.558,-3.283 -4.126,-4.681c-0.104,-0.256 0.02,-0.547 0.275,-0.651c0.253,-0.103 0.547,0.019 0.651,0.275c0.409,1.007 2.936,3.459 3.875,4.319c0.204,0.187 0.217,0.502 0.031,0.707c-0.099,0.107 -0.234,0.162 -0.369,0.162z"/></svg>',handlerFn:function(){return e(this.translate.url+(navigator.language||navigator.userLanguage||function(){if(navigator.languages,navigator.languages.length>0)return navigator.languages[0]}()||"en").split("-")[0]+"/"+this.selectedText,"Translate",900,540),!1}}};return function(){const e={twitter:!0,facebook:!0,search:!0,copy:!0,speak:!0,translate:!0};let o="",c={},i=5,s=38,l=0,r=0;function a(e){if(n.hasOwnProperty(e)){const o=n[e];return new function(e,o,c){const i=document.createElement("div");if(i.className="popover-tooltip",i.style="display:inline-block;margin:7px;cursor:pointer;"+(t.iconTransition?"transition: all .2s ease-in-out;":""),i.innerHTML=e,i.onclick=function(){c.call(n)},t.showTooltip){const t=document.createElement("span");t.className="tooltiptext",t.innerText=o,i.appendChild(t)}return i.onmouseover=function(){t.iconTransition?this.style.transform="scale(1.2)":this.style.transform="scale(1)"},i.onmouseout=function(){this.style.transform="scale(1)"},i}(o.icon,o.tooltip,o.handlerFn)}return null}function h(){const t=o.getRangeAt(0).getBoundingClientRect(),e=window.pageXOffset||document.documentElement.scrollTop||document.body.scrollTop;l=t.top+e-s-i-5,r=t.left+(t.width-s*c.length)/2}function d(e){e.querySelectorAll("span").forEach(e=>{!function(e){let n=-1*(e.offsetWidth/2-12);e.style.left=`${n}px`,t.iconTransition||(e.style.fontSize="16px")}(e)})}function p(){c=function(){const t=document.createElement("div");t.style.paddingLeft="0.5rem",t.style.paddingRight="0.5rem",t.style.paddingTop="0.2rem",t.style.paddingBottom="0.2rem";let n=0;for(let o in e)e.hasOwnProperty(o)&&e[o]&&(t.appendChild(a(o)),n++);return{icons:t,length:n}}(),h();const n=document.createElement("div");n.className="selection",n.style="line-height:0;position:absolute;background-color:"+t.bgColor+";border-radius:10px;top:"+l+"px;left:"+r+"px;transition:all 0.2s ease-in-out;box-shadow:"+t.popoverShadow+"z-index:99999;",n.appendChild(c.icons);const o=document.createElement("div");o.style="position:absolute;border-left:"+i+"px solid transparent;border-right:"+i+"px solid transparent;border-top:"+i+"px solid "+t.bgColor+";bottom:-"+(i-1)+"px;left:"+(s*c.length/2-i)+"px;width:0;height:0;",t.hideArrow||n.appendChild(o),document.body.appendChild(n),t.showTooltip&&d(c.icons)}function u(){function t(){return!!window.getSelection().toString()}window.addEventListener("mouseup",function(){setTimeout(function(){if(document.querySelector(".selection")){if(t())return o=window.getSelection(),n.selectedText=o.toString(),void function(){h();let t=document.querySelector(".selection");t.style.top=`${l}px`,t.style.left=`${r}px`}();document.querySelector(".selection").remove()}t()&&(o=window.getSelection(),n.selectedText=o.toString(),p())},10)},!1)}return{configPopoverButtons:function(t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return this},configPopover:function(e){for(let n in e)e.hasOwnProperty(n)&&t.hasOwnProperty(n)&&(!1===e[n]&&"boolean"==typeof t[n]?t[n]=e[n]:e[n]&&(t[n]=e[n]));return this},addPopoverButton:function(t){return n[t.name]=t,e[t.name]=!0,this},init:function(){return function(){const e=document.createElement("style");e.innerHTML=`.selection__icon{fill:${t.iconColor};}`,document.body.appendChild(e)}(),u(),this}}}}();